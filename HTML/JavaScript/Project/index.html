<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="num1-card">
            <h1 class="num-header">Number: </h1>
            <div class="num-container"></div>
            <div class="start-button">Start</div>
            <div class="start-input">
                <label for="input" id="question"></label>
                <div class="input-box">
                    <input type="text" id="input" class="hidden">
                    <button id="submit" class="hidden" onclick="checkAnswer()">Submit</button>
                </div>
            </div>
            <div class="answer"></div>
            <!--<div class="display-sum">Sum: </div>-->
        </div>
    </div>

    <script>
        const programNum = document.querySelector('.num-container');
        const buttonClick = document.querySelector('.start-button');
        const numHeader = document.querySelector('.num-header');
        const questionSum = document.getElementById('question');
        const questionInput = document.getElementById('input');
        const sumButton = document.getElementById('submit');
        const displayAnswer = document.querySelector('.answer');

        let sum = 0
        //console.log(sumInput);
        buttonClick.addEventListener('click', () => {
            sum = 0;
            displayAnswer.innerHTML = null;

            for (let i = 0; i < 5; i++) {
                const num = Math.floor(Math.random() * 10);
                sum += num;
                setTimeout(() => {
                    let amountNum = 0
                    amountNum = i + 1;
                    numHeader.innerHTML = "Number " + amountNum;
                    programNum.innerHTML = num;



                }, i * 3000);

            }


            function hideAndShow(delay) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        question.innerHTML = "What is the sum?";
                        questionInput.classList.remove('hidden');
                        sumButton.classList.remove("hidden");
                        resolve();
                    }, delay)
                });
            }

            hideAndShow(15000).then(() => {
                console.log("Textbox hidden, button displayed");
            }).catch((error) => {
                console.error(error);
            });


        });

        function checkAnswer() {
            let sumInput = document.getElementById("input").value;
            if (sum == sumInput) {
                questionInput.classList.add('hidden');
                sumButton.classList.add("hidden");
                question.classList.add("hidden");
                displayAnswer.innerHTML = "You got the correct answer!";
            }
            else {
                displayAnswer.innerHTML = "Incorrect. The answer is " + sum;
            }
        }

    </script>
</body>

</html>